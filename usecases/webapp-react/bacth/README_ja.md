# batch

[View this page in English](./README.md)

このソースコードは、infra で構築されたジョブ実行基盤から呼び出されるジョブスクリプトを定義したものです。

## 概要

ジョブ実行基盤から渡される JOBID をもとに異なる処理を呼び出すことが可能です。
本サンプルでは、データベースに格納されたテストデータの `true/false` を確認し、ジョブの成否を判断し、`false` の設定されているレコード名のリストを S3 に出力し、ジョブの実行結果を Step Functions に返却します。

## 利用方法

infra のデプロイ時に、自動的にジョブスクリプトを含んだコンテナイメージがビルドされ、ECR にプッシュされます。
そのため、本ディレクトリでなにかする必要はありません。
コンテナイメージについては、`Dockerfile` を参照ください。

## 本番利用に向けて

- 環境に合わせ、スクリプトの改修や Dockerfile の修正を実施ください。
- ジョブスクリプトの更新を個別に適用するための、ジョブスクリプトの CI/CD をご検討ください。
